<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Learn - yaml.info</title>
<link rel="stylesheet" type="text/css" href="../css/main.css">
<link rel="stylesheet" type="text/css" href="../css/yaml.css">
<link rel="stylesheet" type="text/css" href="../css/ansicolor.css">
<script src="../js/jquery-3.5.1.min.js"></script>
<script src="../js/main.js"></script>

</head>
<body>

<div id="topnav">
<a class="home" href="../index.html">!yaml.info</a>
<a class="active" href="../learn/index.html">Learn</a>
<a  href="../libraries/index.html">Libraries</a>

<a class="source" href="https://github.com/perlpunk/yaml.info">Contribute <img src="../img/GitHub-Mark-Light-32px.png"></a>
</div>
<div id="sidenav" class=""><p class="spacer"></p>
<a class="top active" href="../learn/index.html">Learn</a>
<ul><li><a id="link_tutorial" href="#tutorial">Tutorial</a></li>
<ul><li><a id="link_invoice" href="#invoice">Invoice</a></li>
<li><a id="link_config" href="#config">Configuration Management</a></li>
</ul></ul><a class="top" href="../learn/document.html">Documents</a>
<a class="top" href="../learn/quote.html">Quoting</a>
<a class="top" href="../learn/schema.html">Schema</a>
<a class="top" href="../learn/bestpractices.html">Best Practices</a>

</div>
<div class="main main-">
<div class="section" id="intro">
<h2>What is YAML?</h2>
<p>YAML is a computer data serialization language.
</p><p>A YAML document represents a computer program's native data structure in a human readable text form.
A node in a YAML document can have three basic data types:
</p><p><ul>
<li><a class="topic">Scalar</a><br>
Atomic data types like strings, numbers, booleans and null</li>
<li><a class="topic">Sequence</a><br>
A list of nodes</li>
<li><a class="topic">Mapping</a></a><br>
A map of nodes to nodes. Also known as Hashes, Hash Maps, Dictionaries or
Objects.<br> Unlike in many programming languages, a key can be more than
just a string.<br>
It can be a sequence or mapping itself.</li>
</ul>
</p><p>On top of that, YAML allows to serialize all other data types and classes:
</p><p><ul>
<li><a class="topic">Alias and Anchor</a><br>
For serializing References / Pointers, including circular references.
</li>
<li><a class="topic">Tag</a><br>
With Tags it's possible to define custom types/classes.<br>
For example, in many languages a Regular Expression is a builtin data type
or object.<br>
Some languages have only arrays, which are represented by the basic
sequence type.<br>
But some have tuples, which needs a custom tag.
</li>
</ul>
</p><p>Additionally to the indentation based <a class="topic">Block Style</a> there is a more compact <a class="topic">Flow Style</a> syntax.</p><p>One YAML File (or Stream) can consist of more than one <a class="topic">Document</a>.</p></div>
<div class="section" id="tutorial">
<h2>Tutorial</h2>
<p>The following examples will introduce you with YAML syntax elements step
by step.
</p></div>
<div class="section" id="invoice">
<h2>Invoice</h2>
<p>Let's write an invoice.</p><p>It has a number, a name and an address, order items and more.</p><p><h3>Mapping</h3>
The most common top level data type are mappings. A mapping maps values
to keys.<br>
Keys and values are separated with a colon and a space <span class="code">: </span>.<br>
Each Key/Value pair is on its own line.
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="plainkey">address</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span></pre></div><p>An alternative way to write it:
</p><div class="yaml codebox"><pre><span class="doc_start">---</span><span class="eol">
</span><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="plainkey">address</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span></pre></div><p>The <span class="code">---</span> is explicity starting a <a class="topic">Document</a>.
</p><p>It marks the following content as YAML, but it is optional.
</p><p>It has some use cases, and it is needed when you have multiple Documents
in one file.
</p><p>Read more about it in the <a href="document.html">Document Chapter</a>.
</p><p><h3>Nested Mappings</h3>
</p><p>Now we replace the <span class="code">address</span> string with another mapping. In that case the
colon is followed by a linebreak. Mapping values that are not scalars
must always start on a new line.
</p><p>Nested items must always be indented more then the parent node, with at
least one space. The typical indentation is two spaces.
</p><p>Tabs are forbidden as indentation.
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">address</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span></pre></div><p>Don't forget the indentation. If you write it like this:
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">address</span><span class="colon">:</span><span class="eol">
</span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">
</span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">
</span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span></pre></div><p>... then it will actually mean this:
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">address</span><span class="colon">:</span><span class="default"> </span><span class="default">null</span><span class="eol">
</span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">
</span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">
</span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span></pre></div><p><h3>Sequence</h3>
</p><p>A sequence is a list (or array) of scalars (or other sequences or
mappings).<br> A sequence item starts with a hyphen and a space <span class="code">- </span>.<br>
Here is the list of
YAML inventors:
</p><div class="yaml codebox"><pre><span class="dash">-</span><span class="default"> </span><span class="default">Oren Ben-Kiki</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Clark Evans</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Ingy d&ouml;t Net</span><span class="eol">
</span></pre></div><p>Now back to our invoice.<br>
We map a list of scalars to the key <span class="code">order items</span>.
</p><p>The sequence must start on the next line:
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="plainkey">address</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">order items</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="dash">-</span><span class="default"> </span><span class="default">Sled</span><span class="eol">
</span><span class="default">  </span><span class="dash">-</span><span class="default"> </span><span class="default">Wrapping Paper</span><span class="eol">
</span></pre></div><p>Because the <span class="code">- </span> counts as indentation, you can also write it like this:
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="plainkey">address</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">order items</span><span class="colon">:</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Sled</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Wrapping Paper</span><span class="eol">
</span></pre></div><p><h3>Nested Sequences</h3></p><p>You can also nest sequences. The typical example is a List of Dice Rolls.
</p><p>The nested sequence items can follow directly on the same line:
</p><div class="yaml codebox"><pre><span class="doc_start">---</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="dash">-</span><span class="default"> </span><span class="default">2</span><span class="eol">
</span><span class="default">  </span><span class="dash">-</span><span class="default"> </span><span class="default">3</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="dash">-</span><span class="default"> </span><span class="default">3</span><span class="eol">
</span><span class="default">  </span><span class="dash">-</span><span class="default"> </span><span class="default">6</span><span class="eol">
</span></pre></div><p>YAML allows to write that in a more compact way, the <a class="topic">Flow
Style</a>:
</p><div class="yaml codebox"><pre><span class="doc_start">---</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="flowseq_start">[</span><span class="default"> </span><span class="default">2</span><span class="flow_comma">,</span><span class="default"> </span><span class="default">3</span><span class="default"> </span><span class="flowseq_end">]</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="flowseq_start">[</span><span class="default"> </span><span class="default">3</span><span class="flow_comma">,</span><span class="default"> </span><span class="default">6</span><span class="default"> </span><span class="flowseq_end">]</span><span class="eol">
</span></pre></div><p><i>Link to Flow Style Chapter</i>
</p><p><h3>Aliases / Anchors</h3></p><p>Let's add a billing address to the invoice.
</p><p>In our case it is the same as the shipping address.
We rename <span class="code">address</span> to <span class="code">shipping address</span> and add <span class="code">billing address</span>:
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">shipping address</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span><span class="plainkey">billing address</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">order items</span><span class="colon">:</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Sled</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Wrapping Paper</span><span class="eol">
</span></pre></div><p>Now that's a bit wasted space. If it's the same address, you don't need
to repeat it. Use an <a class="topic">Alias</a>.
</p><p>In the native data structure of a programming language, this would be
a reference, pointer, or alias.
</p><p>Before an <a class="topic">Alias</a> can be used, it has to be created
with an <a class="topic">Anchor</a>:
</p><div class="yaml codebox"><pre><span class="plainkey">invoice number</span><span class="colon">:</span><span class="default"> </span><span class="default">314159</span><span class="eol">
</span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus</span><span class="eol">
</span><span class="eol">
</span><span class="plainkey">shipping address</span><span class="colon">:</span><span class="default"> </span><span class="anchor">&amp;address</span><span class="eol">     #   Anchor
</span><span class="default">  </span><span class="plainkey">street</span><span class="colon">:</span><span class="default"> </span><span class="default">Santa Claus Lane</span><span class="eol">     # &#x2510;
</span><span class="default">  </span><span class="plainkey">zip</span><span class="colon">:</span><span class="default"> </span><span class="default">12345</span><span class="eol">                   # &#x2502; Anchor content
</span><span class="default">  </span><span class="plainkey">city</span><span class="colon">:</span><span class="default"> </span><span class="default">North Pole</span><span class="eol">             # &#x2518;
</span><span class="plainkey">billing address</span><span class="colon">:</span><span class="default"> </span><span class="alias">*address</span><span class="eol">      #   Alias
</span><span class="eol">
</span><span class="plainkey">order items</span><span class="colon">:</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Sled</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">Wrapping Paper</span><span class="eol">
</span></pre></div><p>When loaded into a native data structure, the <span class="code">shipping address</span> and
<span class="code">billing address</span> point to the same data structure.<br>
It depends on the capabilities of the programming language how this is
implemented internally.<br>
<i>(Link to Alias chapter)</i>
</p></div>
<div class="section" id="config">
<h2>Configuration Management</h2>
<p>YAML is used in all kinds of applications as a configuration language.
</p><p><h3>Continuous Integration</h3></p><p>One category is the configuration of Continuous Integration systems.
</p><p>Here is a minimal example of a <a href="https://help.github.com/en/actions">GitHub Action
Workflow</a>.
</p><div class="yaml codebox"><pre><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Linux</span><span class="eol">
</span><span class="plainkey">on</span><span class="colon">:</span><span class="default"> </span><span class="flowseq_start">[</span><span class="default">push</span><span class="flowseq_end">]</span><span class="eol">    # Compact Flow Style Sequence
</span><span class="plainkey">jobs</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">build</span><span class="colon">:</span><span class="eol">
</span><span class="default">    </span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Run Tests</span><span class="eol">
</span><span class="default">    </span><span class="plainkey">runs-on</span><span class="colon">:</span><span class="default"> </span><span class="default">ubuntu-latest</span><span class="eol">
</span><span class="default">    </span><span class="plainkey">steps</span><span class="colon">:</span><span class="eol">
</span><span class="default">    </span><span class="dash">-</span><span class="default"> </span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Say Hello</span><span class="eol">
</span><span class="default">      </span><span class="plainkey">run</span><span class="colon">:</span><span class="default"> </span><span class="default">echo hello</span><span class="eol">
</span></pre></div><p>The value for <span class="code">steps</span> is a list of mappings. A mapping can start directly
on the same line as the <span class="code">-</span>.
</p><p>Usually a step has a <span class="code">name</span>, which will be shown as the title when running
the job, and a <span class="code">run</span>, which is a shell command, or multiple commands.
</p><p>Let's add a more realistic scenario, with one step to checkout the
code, and one with multiple commands.
</p><p>If you use Double Quotes, which work like JSON strings, it looks like
this:
</p><div class="yaml codebox"><pre><span class="plainkey">steps</span><span class="colon">:</span><span class="eol">
</span><span class="eol"># Plugin provided by GitHub to checkout the code
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">uses</span><span class="colon">:</span><span class="default"> </span><span class="default">actions/checkout@v2</span><span class="eol">
</span><span class="eol"># Run multiple commands
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Run Tests</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">run</span><span class="colon">:</span><span class="default"> </span><span class="doublequote">&quot;</span><span class="doublequoted">./configure\nmake\nmake test\n</span><span class="doublequote">&quot;</span><span class="eol">
</span></pre></div><p>One of the advantages of YAML here is that this can be formatted in a way
that's easy to write and read with <a class="topic">Block Scalars</a>:
</p><div class="yaml codebox"><pre><span class="plainkey">steps</span><span class="colon">:</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">uses</span><span class="colon">:</span><span class="default"> </span><span class="default">actions/checkout@v2</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Run Tests</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">run</span><span class="colon">:</span><span class="default"> </span><span class="literal">|</span><span class="eol">      # Literal Block Scalar
</span><span class="indent">    </span><span class="block_scalar_content">./configure</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">make</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">make test</span><span class="eol">
</span></pre></div><p>The <a class="topic">Literal Block Scalar</a>, as the name says, contains
the literal content of the string. Tabs and similar characters are always
literal. All trailing spaces will be kept.
</p><p>Let's say, you have a number of longer commands that you would like to
break up into multiple lines for readability:
</p><div class="yaml codebox"><pre><span class="plainkey">steps</span><span class="colon">:</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">uses</span><span class="colon">:</span><span class="default"> </span><span class="default">actions/checkout@v2</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Install dependencies</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">run</span><span class="colon">:</span><span class="default"> </span><span class="folded">&gt;</span><span class="eol">      # Folded Block Scalar
</span><span class="indent">    </span><span class="block_scalar_content">apt-get update</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">&amp;&amp; apt-get install -y</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">git tig vim jq tmux tmate git-subrepo cpanminus</span><span class="eol">
</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">cpanm -n -l local</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">YAML::PP YAML::XS ...</span><span class="eol">
</span></pre></div><p>The <a class="topic">Folded Block Scalar</a> is like the Literal Block
Scalar, but with special folding rules.
</p><p>Consecutive lines starting at the same indentation level will be folded
with spaces, and empty lines create a linebreak.
</p><p>Read more about <a class="topic">Block Scalars</a> and all other ways of
quoting in the <a href="quote.html">Quoting Chapter</a>.
</p><p><h3>Variables</h3></p><p>YAML itself has no concept of "variables" or "functions".
</p><p>Systems like GitHub Actions usually provide a way to access certain
information and environment variables with a Templating Syntax.
</p><p>We set up a "matrix" test to build the code with gcc and clang.
</p><div class="yaml codebox"><pre><span class="plainkey">strategy</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">matrix</span><span class="colon">:</span><span class="eol">
</span><span class="default">    </span><span class="plainkey">compiler</span><span class="colon">:</span><span class="default"> </span><span class="flowseq_start">[</span><span class="default">gcc</span><span class="flow_comma">,</span><span class="default"> </span><span class="default">clang</span><span class="flowseq_end">]</span><span class="eol">
</span><span class="plainkey">steps</span><span class="colon">:</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="default">...</span><span class="eol">
</span></pre></div><p>The <span class="code">strategy.matrix</span> entry will create <b>two</b> jobs instead of one,
providing the <span class="code">compiler</span> in a "context" item that we can pass as an
environment variable to the step:
</p><div class="yaml codebox"><pre><span class="plainkey">strategy</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">matrix</span><span class="colon">:</span><span class="eol">
</span><span class="default">    </span><span class="plainkey">compiler</span><span class="colon">:</span><span class="default"> </span><span class="flowseq_start">[</span><span class="default">gcc</span><span class="flow_comma">,</span><span class="default"> </span><span class="default">clang</span><span class="flowseq_end">]</span><span class="eol">
</span><span class="plainkey">steps</span><span class="colon">:</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">uses</span><span class="colon">:</span><span class="default"> </span><span class="default">actions/checkout@v2</span><span class="eol">
</span><span class="dash">-</span><span class="default"> </span><span class="plainkey">name</span><span class="colon">:</span><span class="default"> </span><span class="default">Run Tests</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">env</span><span class="colon">:</span><span class="eol">
</span><span class="default">    </span><span class="plainkey">CC</span><span class="colon">:</span><span class="default"> </span><span class="default">${{ matrix.compiler }}</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">run</span><span class="colon">:</span><span class="default"> </span><span class="literal">|</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">./configure</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">make</span><span class="eol">
</span><span class="indent">    </span><span class="block_scalar_content">make test</span><span class="eol">
</span></pre></div><p>This sets the environment variable <span class="code">CC</span> to <span class="code">gcc</span> or <span class="code">clang</span>, respectively.
</p><p>The <span class="code">${{ matrix.compiler }}</span> syntax is not a special YAML syntax.<br>
It is a simple plain scalar that could also have been written in quotes:
</p><div class="yaml codebox"><pre><span class="plainkey">env</span><span class="colon">:</span><span class="eol">
</span><span class="default">  </span><span class="plainkey">CC</span><span class="colon">:</span><span class="default"> </span><span class="singlequote">&#39;</span><span class="singlequoted">${{ matrix.compiler }}</span><span class="singlequote">&#39;</span><span class="eol">
</span></pre></div><p>It's the GitHub Action application that recognizes such variables and
replaces them with their content at runtime.
</p><p>Such variables can look different, depending on the application.
</p><p>For example, <a href="https://www.ansible.com/">Ansible</a> is using the
<a href="https://jinja.palletsprojects.com/en/2.11.x/">Jinja2</a> templating engine,
where variables look like this:
</p><div class="yaml codebox"><pre><span class="plainkey">wuth_items</span><span class="colon">:</span><span class="default"> </span><span class="singlequote">&#39;</span><span class="singlequoted">{{ user.names }}</span><span class="singlequote">&#39;</span><span class="eol">
</span></pre></div><p>It is important to add quotes here, because the <span class="code">{</span> at the start actually
would start a <a class="topic">Flow Style Mapping</a> otherwise.<br>
<i>(Link to Flow Style Chapter)</i>
</p><p>So it's clever that GitHub Actions chose the <span class="code">${{ ... }}</span> syntax, because
the <span class="code">$</span> at the start is not special in YAML and doesn't need quotes.
</p></div>

<p class="source">
<a href="https://github.com/perlpunk/yaml.info/blob/master/content/learn/index.yaml">Page Source</a>
</p>
</div>
<div id="footer">
<a href="../topics.html">Topic Index</a>
<p>
<a href="https://github.com/perlpunk/yaml.info/blob/master/LICENSE">© 2020 Tina Müller</a>
<a href="https://github.com/perlpunk/yaml.info">https://github.com/perlpunk/yaml.info</a>
</p>
</div>
</body>
</html>

